<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.11.0"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>BMSNode: Command</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">BMSNode
							</div>
							<div id="projectbrief">BMS Node Cell Monitoring Firmware</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__cmd.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Command</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7ed51c574a0b4fbc7f75646bf1805de3" id="r_ga7ed51c574a0b4fbc7f75646bf1805de3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7ed51c574a0b4fbc7f75646bf1805de3">CMD_PING</a></td></tr>
<tr class="memdesc:ga7ed51c574a0b4fbc7f75646bf1805de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">PING command code.  <br /></td></tr>
<tr class="separator:ga7ed51c574a0b4fbc7f75646bf1805de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80cdec8f301812db9c67adfc5f9eedae" id="r_ga80cdec8f301812db9c67adfc5f9eedae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga80cdec8f301812db9c67adfc5f9eedae">CMD_DFU</a></td></tr>
<tr class="memdesc:ga80cdec8f301812db9c67adfc5f9eedae"><td class="mdescLeft">&#160;</td><td class="mdescRight">DFU command code.  <br /></td></tr>
<tr class="separator:ga80cdec8f301812db9c67adfc5f9eedae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76d3c602a95e299574a9e9c6866c4309" id="r_ga76d3c602a95e299574a9e9c6866c4309"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga76d3c602a95e299574a9e9c6866c4309">CMD_UID</a></td></tr>
<tr class="memdesc:ga76d3c602a95e299574a9e9c6866c4309"><td class="mdescLeft">&#160;</td><td class="mdescRight">UID command code.  <br /></td></tr>
<tr class="separator:ga76d3c602a95e299574a9e9c6866c4309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacec1ed0884859396f40c996fcd78baad" id="r_gacec1ed0884859396f40c996fcd78baad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacec1ed0884859396f40c996fcd78baad">CMD_ADDR</a></td></tr>
<tr class="memdesc:gacec1ed0884859396f40c996fcd78baad"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADDR command code.  <br /></td></tr>
<tr class="separator:gacec1ed0884859396f40c996fcd78baad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ec23f1549b66251dfdfa40610df8ca7" id="r_ga7ec23f1549b66251dfdfa40610df8ca7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7ec23f1549b66251dfdfa40610df8ca7">CMD_ADCRAW</a></td></tr>
<tr class="memdesc:ga7ec23f1549b66251dfdfa40610df8ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADCRAW command code.  <br /></td></tr>
<tr class="separator:ga7ec23f1549b66251dfdfa40610df8ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25e21625c1e6a3d5fefce646e33344e8" id="r_ga25e21625c1e6a3d5fefce646e33344e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga25e21625c1e6a3d5fefce646e33344e8">CMD_STATUS</a></td></tr>
<tr class="memdesc:ga25e21625c1e6a3d5fefce646e33344e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">STATUS command code.  <br /></td></tr>
<tr class="separator:ga25e21625c1e6a3d5fefce646e33344e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09959eb8e5fdc3399315c49cc8b29b85" id="r_ga09959eb8e5fdc3399315c49cc8b29b85"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga09959eb8e5fdc3399315c49cc8b29b85">CMD_SHUNTON</a></td></tr>
<tr class="memdesc:ga09959eb8e5fdc3399315c49cc8b29b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">SHUNTON command code.  <br /></td></tr>
<tr class="separator:ga09959eb8e5fdc3399315c49cc8b29b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79f8768f43993fb1d143a4238cecd584" id="r_ga79f8768f43993fb1d143a4238cecd584"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga79f8768f43993fb1d143a4238cecd584">CMD_SHUNTOFF</a></td></tr>
<tr class="memdesc:ga79f8768f43993fb1d143a4238cecd584"><td class="mdescLeft">&#160;</td><td class="mdescRight">SHUNTOFF command code.  <br /></td></tr>
<tr class="separator:ga79f8768f43993fb1d143a4238cecd584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93e72644aba741f8b60b26274476d275" id="r_ga93e72644aba741f8b60b26274476d275"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga93e72644aba741f8b60b26274476d275">CMD_SETPARM</a></td></tr>
<tr class="memdesc:ga93e72644aba741f8b60b26274476d275"><td class="mdescLeft">&#160;</td><td class="mdescRight">SETPARM command code.  <br /></td></tr>
<tr class="separator:ga93e72644aba741f8b60b26274476d275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad57e85e4990f290f4e791c0d016cccc6" id="r_gad57e85e4990f290f4e791c0d016cccc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad57e85e4990f290f4e791c0d016cccc6">CMD_GETPARM</a></td></tr>
<tr class="memdesc:gad57e85e4990f290f4e791c0d016cccc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">GETPARM command code.  <br /></td></tr>
<tr class="separator:gad57e85e4990f290f4e791c0d016cccc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44243f37a7f18ce87bd4e23e39fe00aa" id="r_ga44243f37a7f18ce87bd4e23e39fe00aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga44243f37a7f18ce87bd4e23e39fe00aa">CMD_TESTMODE</a></td></tr>
<tr class="memdesc:ga44243f37a7f18ce87bd4e23e39fe00aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">TESTMODE command code.  <br /></td></tr>
<tr class="separator:ga44243f37a7f18ce87bd4e23e39fe00aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85439ad1761fb5caf0509f1b6e204a63" id="r_ga85439ad1761fb5caf0509f1b6e204a63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga85439ad1761fb5caf0509f1b6e204a63">CMD_FACTORY</a></td></tr>
<tr class="memdesc:ga85439ad1761fb5caf0509f1b6e204a63"><td class="mdescLeft">&#160;</td><td class="mdescRight">FACTORY command code.  <br /></td></tr>
<tr class="separator:ga85439ad1761fb5caf0509f1b6e204a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gada3f9de6dd26091e1f518d292b2f74e5" id="r_gada3f9de6dd26091e1f518d292b2f74e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pkt.html#structpacket__t">packet_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gada3f9de6dd26091e1f518d292b2f74e5">cmd_process</a> (void)</td></tr>
<tr class="memdesc:gada3f9de6dd26091e1f518d292b2f74e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the command processor.  <br /></td></tr>
<tr class="separator:gada3f9de6dd26091e1f518d292b2f74e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga7ed51c574a0b4fbc7f75646bf1805de3" name="ga7ed51c574a0b4fbc7f75646bf1805de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ed51c574a0b4fbc7f75646bf1805de3">&#9670;&#160;</a></span>CMD_PING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_PING</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PING command code. </p>
<p>Causes a ping reply packets to be sent. </p>

</div>
</div>
<a id="ga80cdec8f301812db9c67adfc5f9eedae" name="ga80cdec8f301812db9c67adfc5f9eedae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80cdec8f301812db9c67adfc5f9eedae">&#9670;&#160;</a></span>CMD_DFU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_DFU</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DFU command code. </p>
<p>Causes the node to enter DFU (firmware update) mode. </p>

</div>
</div>
<a id="ga76d3c602a95e299574a9e9c6866c4309" name="ga76d3c602a95e299574a9e9c6866c4309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76d3c602a95e299574a9e9c6866c4309">&#9670;&#160;</a></span>CMD_UID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_UID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UID command code. </p>
<p>Causes node to report UID and board type. </p>

</div>
</div>
<a id="gacec1ed0884859396f40c996fcd78baad" name="gacec1ed0884859396f40c996fcd78baad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacec1ed0884859396f40c996fcd78baad">&#9670;&#160;</a></span>CMD_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_ADDR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADDR command code. </p>
<p>Sets device bus address </p>

</div>
</div>
<a id="ga7ec23f1549b66251dfdfa40610df8ca7" name="ga7ec23f1549b66251dfdfa40610df8ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ec23f1549b66251dfdfa40610df8ca7">&#9670;&#160;</a></span>CMD_ADCRAW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_ADCRAW</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADCRAW command code. </p>
<p>Reads ADC raw sample data </p>

</div>
</div>
<a id="ga25e21625c1e6a3d5fefce646e33344e8" name="ga25e21625c1e6a3d5fefce646e33344e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25e21625c1e6a3d5fefce646e33344e8">&#9670;&#160;</a></span>CMD_STATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_STATUS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>STATUS command code. </p>
<p>Returns BMS Node status (such as voltage, temp, etc. - see spec) </p>

</div>
</div>
<a id="ga09959eb8e5fdc3399315c49cc8b29b85" name="ga09959eb8e5fdc3399315c49cc8b29b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09959eb8e5fdc3399315c49cc8b29b85">&#9670;&#160;</a></span>CMD_SHUNTON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_SHUNTON</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SHUNTON command code. </p>
<p>Turns on cell shunting (balancing mode). </p>

</div>
</div>
<a id="ga79f8768f43993fb1d143a4238cecd584" name="ga79f8768f43993fb1d143a4238cecd584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79f8768f43993fb1d143a4238cecd584">&#9670;&#160;</a></span>CMD_SHUNTOFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_SHUNTOFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SHUNTOFF command code. </p>
<p>Turns off cell shunting (balancing mode). </p>

</div>
</div>
<a id="ga93e72644aba741f8b60b26274476d275" name="ga93e72644aba741f8b60b26274476d275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93e72644aba741f8b60b26274476d275">&#9670;&#160;</a></span>CMD_SETPARM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_SETPARM</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SETPARM command code. </p>
<p>Set a configuration parameter value. </p>

</div>
</div>
<a id="gad57e85e4990f290f4e791c0d016cccc6" name="gad57e85e4990f290f4e791c0d016cccc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad57e85e4990f290f4e791c0d016cccc6">&#9670;&#160;</a></span>CMD_GETPARM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_GETPARM</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GETPARM command code. </p>
<p>Get a configuration parameter value. </p>

</div>
</div>
<a id="ga44243f37a7f18ce87bd4e23e39fe00aa" name="ga44243f37a7f18ce87bd4e23e39fe00aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44243f37a7f18ce87bd4e23e39fe00aa">&#9670;&#160;</a></span>CMD_TESTMODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_TESTMODE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TESTMODE command code. </p>
<p>Set a test mode. </p>

</div>
</div>
<a id="ga85439ad1761fb5caf0509f1b6e204a63" name="ga85439ad1761fb5caf0509f1b6e204a63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga85439ad1761fb5caf0509f1b6e204a63">&#9670;&#160;</a></span>CMD_FACTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CMD_FACTORY</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FACTORY command code. </p>
<p>Reset the configuration to factory defaults. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gada3f9de6dd26091e1f518d292b2f74e5" name="gada3f9de6dd26091e1f518d292b2f74e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada3f9de6dd26091e1f518d292b2f74e5">&#9670;&#160;</a></span>cmd_process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pkt.html#structpacket__t">packet_t</a> * cmd_process </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the command processor. </p>
<p>This function should be called periodically from the main loop. It checks for any available incoming packets. It checks if the packets is intended for this node. If so then it dispatches the command for further processing according to its function.</p>
<dl class="section return"><dt>Returns</dt><dd>returns a pointer to the last packet that was processed. The packet must be freed by the caller by using <a class="el" href="group__pkt.html#ga4dc202129cda75aec727fc67ad260b09" title="Release an RX packet buffer for re-use.">pkt_rx_free()</a> as soon as possible. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Wed Jan 22 2025 15:43:06 for BMSNode by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"
                     onerror="this.onerror=null;this.src='doxygen.svg';"/></a> 1.11.0.
					Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
